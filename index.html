<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Карта Nord-oil</title>
  <!--[if lt IE 9]>
  <script src="bower_components/html5shiv/dist/html5shiv.js"></script>
  <![endif]-->
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/style.css" />


  <!-- Подключаем API  карт 2.x  -->
  <!--<script src="http://api-maps.yandex.ru/2.0/?load=package.full&lang=ru-RU" type="text/javascript"></script>-->
  <script src="https://api-maps.yandex.ru/2.0-stable/?load=package.standard&lang=ru-RU" type="text/javascript"> </script>

</head>

<body>

<section class="contact-map">

<div id="map" style="width:680px; height:520px"></div>

<div class="popap-map">
  <div class="popap-map_title">Офис</div>
  <div class="popap-map_text"><span class="popap-map_subtitle">Адрес:</span> Архангельск, пр. Троицкий, д. 37, 5 этаж</div>
  <div class="popap-map_text"><span class="popap-map_subtitle">Телефон:</span> (8182) 28-50-19</div>
  <div class="popap-map_text"><span class="popap-map_subtitle">Email:</span> info@nord-oil.net</div>
  <div class="popap-map_text">
    <span class="popap-map_subtitle">Часы работы:</span>
    <span class="popap-map_time">пн-чт 09:00-17:00, обед 12:00-13:00</span>
    <span class="popap-map_time">пт 09:00-15:00</span>
  </div>
</div><!-- popap-map -->
</section>

<!--scripts-->

<!-- <script type="text/javascript" src="js/map.js"></script> -->
<script type="text/javascript" src="js/main.js"></script>
<script type="text/javascript">
  // Как только будет загружен API и готов DOM, выполняем инициализацию
  ymaps.ready(init);
  var myMap;
  function init () {
    // Создание экземпляра карты и его привязка к контейнеру с
    // заданным id ("map")
    myMap = new ymaps.Map('map', {
      // При инициализации карты, обязательно нужно указать
      // ее центр и коэффициент масштабирования
      center: [56.317222,44.002149],
      zoom: 13
    });


    myMap.geoObjects.events.add([
      'balloonopen'
    ], function (e) {
      var geoObject = e.get('target');
      myMap.panTo(geoObject.geometry.getCoordinates(), {
        delay: 0
      });
    });

    myPlacemark1 = new ymaps.Placemark([56.315695,44.017063], {
      name: 'Офис',
      address: 'Архангельск, пр. Троицкий, д. 37, 5 этаж',
      number: '(8182) 28-50-19',
      email: 'info@nord-oil.net',
      weekdays: 'пн-чт 09:00-17:00, обед 12:00-13:00',
      weekend: 'пт 09:00-15:00'

    }, {
      // Изображение иконки метки
      iconImageHref: 'img/icon-office.png',
      // Размеры изображения иконки
      iconImageSize: [37, 56],
      // смещение картинки
      iconImageOffset: [-16, -37],
      // Размеры содержимого балуна
      balloonContentSize: [595, 434],
      // Задаем макет балуна - пользовательская картинка с контентом
      balloonLayout: "default#imageWithContent",
      // Картинка балуна
      balloonImageHref: 'img/baloon-bg.png',
      // Смещение картинки балуна
      balloonImageOffset: [-307, -227],
      // Размеры картинки балуна
      balloonImageSize: [295, 169],
      // Балун не имеет тени
      balloonShadow: false,
      //Выравнивание по умолчанию
      balloonAutoPan: false
    }),

    myPlacemark2 = new ymaps.Placemark([56.324117,44.00136], {
      name: 'Лаборатория',
      address: 'Архангельск, ул. Силикатчиков, д. 19',
      weekdays: 'пн-пт 09:00-17:00'

    }, {
      iconImageHref: 'img/icon-laboratory.png',
      iconImageSize: [37, 56],
      iconImageOffset: [-16, -37],
      balloonContentSize: [595, 434],
      balloonLayout: "default#imageWithContent",
      balloonImageHref: 'img/baloon-img.png',
      balloonImageOffset: [-307, -227],
      balloonImageSize: [615, 454],
      balloonShadow: false,
      balloonAutoPan: false
    }),

            myPlacemark3 = new ymaps.Placemark([56.320203,44.002321], {
              name: 'САЛОН «ЧАРУЮЩИЕ САМОЦВЕТЫ»',
              address: 'г. Смоленск, ул. Большая Советская,24',
              number: '8-900-222-76-67',
              weekdays: 'пн-пт с 9.00 до 19.00 ',
              weekend: 'сб-вск с 10.00 до 20.00',
              pay: 'наличные, карта',
              way: 'маршрутка или автобус 125 до  остановки "Остановка" слева 4-х   этжное здание с нашей вывеской'

            }, {
              iconImageHref: 'img/map-poin-white.png',
              iconImageSize: [43, 45],
              iconImageOffset: [-16, -37],
              balloonContentSize: [595, 434],
              balloonLayout: "default#imageWithContent",
              balloonImageHref: 'img/baloon-img.png',
              balloonImageOffset: [-307, -227],
              balloonImageSize: [615, 454],
              balloonShadow: false,
              balloonAutoPan: false
            }),

            // Создаем коллекцию, в которую будем добавлять метки
            myCollection = new ymaps.GeoObjectCollection();

    //Добавляем метки в коллекцию геообъектов.
    myCollection
            .add(myPlacemark1)
            .add(myPlacemark2)
            .add(myPlacemark3);

    // Создаем шаблон для отображения контента балуна
    var myBalloonLayout = ymaps.templateLayoutFactory.createClass(
            '<div class="map-modal_left"><div class="map-modal_point"></div><div class="map-modal_img"><img src="img/modal-img-1.jpg" alt=""></div><div class="map-modal_img"><img src="img/modal-img-1.jpg" alt=""></div></div>' +
            '<div class="map-modal_right"><div class="map-modal_title">$[properties.name]</div><div class="map-modal_adress">$[properties.address]</div><div class="map-modal_contact"><div class="map-modal_item"><div class="map-modal-icon"><img src="img/modal-phone-icon.png" alt=""></div><div class="map-modal-text">$[properties.number]</div> <!--end item--></div><div class="map-modal_item"><div class="map-modal-icon"><img src="img/modal-clock-icon.png" alt=""></div><div class="map-modal-text"><p>$[properties.weekdays]</p><p>$[properties.weekend]</p></div> <!--end item--></div><div class="map-modal_item"><div class="map-modal-icon">оплата:</div><div class="map-modal-text">$[properties.pay]</div> <!--end item--></div><div class="map-modal_item"><div class="map-modal-icon">как пройти:</div><div class="map-modal-text"><p>$[properties.way]</p></div> <!--end item--></div>  </div>  </div>' +
            '<img id="close-balloon" src="img/map-modal-close.png" onclick="myMap.balloon.close()">'

    );
    // Помещаем созданный шаблон в хранилище шаблонов. Теперь наш шаблон доступен по ключу 'my#theaterlayout'.
    ymaps.layout.storage.add('my#theaterlayout', myBalloonLayout);

    // Задаем наш шаблон для балунов геобъектов коллекции.
    myCollection.options.set({
      balloonContentBodyLayout:'my#theaterlayout',
      // Максимальная ширина балуна в пикселах
      balloonMaxWidth: 600
    });

    // Добавляем коллекцию геообъектов на карту.
    myMap.geoObjects.add(myCollection);
  }
</script>
</body>
</html>
